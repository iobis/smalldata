* smalldata
** requirement

   - install and use [[https://yarnpkg.com/en/][yarn]] package manager for (web) client development
   - install and use [[https://gradle.org][gradle]] build tool for server development

** server
*** how to start during dev

the api spec has been split into several files. However, due to some issues with relative paths and reading the specs,
the different files need to be bundled into 1 spec file before running the server. In the root of the project:

#+BEGIN_SRC shell
yarn server:bundle-spec
#+END_SRC

This task can also be set to run before ~./gradlew run~ in your IDE. In intellij:
1. upper right: drop down of the tasks
2. ~edit configuration~
3. ~server[run]~
4. ~launch before~ (right bottom pane) -- ~+~
5. ~Run npm script~
6. choose the right ~package.json~, it's the one in the root of the project
7. in ~scripts~: ~server:bundle-spec~


** occurrences-app
*** how to start for development

#+BEGIN_SRC shell
yarn install
cd occurrences-app
yarn start
#+END_SRC

*** how to start cosmos

#+BEGIN_SRC shell
yarn install
cd occurrences-app
yarn cosmos
#+END_SRC

  - open [[http://localhost:8989]]

** JWT

call ocean expert social login from the web client:

#+BEGIN_SRC shell
https://oceanexpert.net/socialsignin/?callback=<callback-url>
#+END_SRC

callback-url will be called with a jwt query parameter, containing the token, e.g., if the callback-url is http://localhost:3000 (e.g. for testing/developing), after login, ocean expert will call http://localhost:3000?jwt=eyJ0eXAiOiJKV1Q...

The validity and claims of the JWT can be parsed using http://jwt.io (contains username, email, profile picture, ...)

test-account: kurt<dot>sys@moment-4<dot>be / 0ceanexpert

* links

   - [[https://github.com/iobis/smalldata/projects/1][github board]]
   - [[https://zube.io/iobis/smalldata/w/main-workspace/kanban][zube kanban board]]
